<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>樂芙沫戀愛代表人物測驗</title>
  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      background: #FFE6EB;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      color: #333;
    }

    .container {
      background: #fffafc;
      padding: 40px;
      border-radius: 25px;
      box-shadow: 0 0 20px rgba(255, 192, 203, 0.3);
      width: 90%;
      max-width: 700px;
      text-align: center;
      position: relative;
      transition: opacity 0.5s ease;
    }

    h2 {
      font-size: 30px;
      color: #F78DA7;
      margin-bottom: 20px;
    }

    .question {
      display: none;
      animation: fadeIn 0.5s ease-in-out;
    }

    .question h4 {
      font-size: 20px;
      color: #EF5DA8;
      margin-bottom: 20px;
    }

    button {
      background: #FFB6C1;
      color: #fff;
      border: none;
      padding: 12px 20px;
      margin: 10px 0;
      width: 80%;
      border-radius: 20px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      font-size: 16px;
      cursor: pointer;
      transition: transform 0.2s, background 0.3s;
    }

    button:hover {
      transform: scale(1.05);
      background: #f89;
      box-shadow: 0 0 10px #ff9bb3;
    }

    #progress {
      margin: 10px auto;
      height: 10px;
      background: #ffe0e8;
      border-radius: 10px;
      overflow: hidden;
    }

    #progressBar {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, #F78DA7, #FAD0C4);
      transition: width 0.4s ease;
    }

    #resultCard {
      display: none;
      background: #fff;
      padding: 30px;
      border-radius: 25px;
      border: 2px solid #ffcdd5;
      box-shadow: 0 0 20px rgba(255, 182, 193, 0.3);
      margin-top: 20px;
      animation: fadeIn 1s ease-in-out;
    }

    .result-title {
      font-size: 24px;
      color: #F78DA7;
      margin-bottom: 10px;
    }

    .result-type {
      font-size: 20px;
      color: #555;
      margin-bottom: 15px;
    }

    .result-desc {
      font-size: 16px;
      margin-bottom: 15px;
    }

    .quote {
      font-style: italic;
      color: #888;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>戀愛代表人物測驗 💘</h2>
    <div id="intro">
      <p>透過這些問題，找出你最像哪位《排球少年》的戀愛代表人物！</p>
      <button onclick="startQuiz()">開始測驗</button>
    </div>

    <div id="progress"><div id="progressBar"></div></div>

    <!-- 題目區（動態產生） -->
    <div id="questionContainer"></div>

    <!-- 結果卡 -->
    <div id="resultCard">
      <div class="result-title" id="resultName"></div>
      <div class="result-type" id="resultType"></div>
      <div class="result-desc" id="resultDesc"></div>
      <div class="quote" id="resultQuote"></div>
      <button onclick="resetQuiz()">重新測驗</button>
    </div>
  </div>

  <script>
    const questions = [
      "你最喜歡的告白方式是？",
      "在戀愛中，你會更在意對方的哪一點？",
      "你喜歡的約會活動是？",
      "遇到困難時，你會怎麼做？",
      "你對戀愛的態度是？",
      "如果戀愛關係遇到問題，你會？",
      "你在戀愛中最看重的是？",
      "你更願意扮演哪種角色？",
      "看到對方不開心，你會？",
      "戀愛不如預期時，你會？"
    ];

    const options = [
      ["直接當面說出來！", "寫卡片慢慢傳達", "搞笑中突然認真", "假裝不經意地提起"],
      ["對方是否能理解我", "對方的幽默感", "對方的勇氣和決心", "對方的真誠和穩重"],
      ["浪漫的晚餐", "看電影或展覽", "去戶外探險", "在家一起煮飯"],
      ["不服輸，努力克服", "尋求他人幫助", "保持樂觀，等機會", "冷靜思考解決方案"],
      ["積極主動爭取", "自然發展不強求", "以開玩笑的態度面對", "保持理智細心考慮"],
      ["直接討論解決", "默默承受等待時機", "用幽默化解尷尬", "冷靜再決定是否溝通"],
      ["信任與溝通", "趣味和浪漫", "陪伴和支持", "彼此獨立空間"],
      ["掌控局面", "跟隨對方", "帶來快樂", "提供穩定"],
      ["安慰鼓勵對方", "開玩笑逗開心", "給空間讓他回復", "傾聽並了解困難"],
      ["坦白解決問題", "等待情感流動", "保持樂觀調整心態", "冷靜重新審視"]
    ];

    const resultMap = {
      A: {
        name: "日向翔陽",
        type: "熱血型戀愛代表",
        desc: "你像日向翔陽，總是充滿活力與衝勁，對戀愛也很主動直接！",
        quote: "「即使再小的努力，也要堅持下去！」"
      },
      B: {
        name: "影山飛雄",
        type: "內斂型戀愛代表",
        desc: "你像影山飛雄，不善表達但默默付出，是可靠的戀人。",
        quote: "「我不是不想，我只是不知道怎麼做。」"
      },
      C: {
        name: "孤爪研磨",
        type: "隱性可愛型戀愛代表",
        desc: "你像研磨，看似冷靜疏離，其實內心溫柔有趣。",
        quote: "「不想輸，所以會努力。」"
      },
      D: {
        name: "黑尾鐵朗",
        type: "成熟型戀愛代表",
        desc: "你像黑尾，穩重又帶點調皮，是戀愛中的理性溫暖者。",
        quote: "「在場上的我，是為了讓隊友閃耀。」"
      }
    };

    let current = 0;
    let answers = [];

    function startQuiz() {
      document.getElementById('intro').style.display = 'none';
      renderQuestion();
    }

    function renderQuestion() {
      const container = document.getElementById('questionContainer');
      container.innerHTML = '';
      if (current >= questions.length) {
        calculateResult();
        return;
      }
      const qDiv = document.createElement('div');
      qDiv.className = 'question';
      qDiv.innerHTML = `<h4>${current + 1}. ${questions[current]}</h4>`;

      options[current].forEach((opt, index) => {
        const btn = document.createElement('button');
        const letter = ['A', 'B', 'C', 'D'][index];
        btn.textContent = opt;
        btn.onclick = () => selectAnswer(letter);
        qDiv.appendChild(btn);
      });
      container.appendChild(qDiv);
      qDiv.style.display = 'block';
      updateProgress();
    }

    function selectAnswer(letter) {
      answers.push(letter);
      current++;
      setTimeout(renderQuestion, 300);
    }

    function updateProgress() {
      const bar = document.getElementById('progressBar');
      const percent = (current / questions.length) * 100;
      bar.style.width = percent + '%';
    }

    function calculateResult() {
      const counts = { A: 0, B: 0, C: 0, D: 0 };
      answers.forEach(a => counts[a]++);
      let maxKey = 'A';
      for (let key in counts) {
        if (counts[key] > counts[maxKey]) maxKey = key;
      }
      showResult(maxKey);
    }

    function showResult(key) {
      const result = resultMap[key];
      document.getElementById('resultName').textContent = result.name;
      document.getElementById('resultType').textContent = result.type;
      document.getElementById('resultDesc').textContent = result.desc;
      document.getElementById('resultQuote').textContent = result.quote;

      document.getElementById('resultCard').style.display = 'block';
    }

    function resetQuiz() {
      current = 0;
      answers = [];
      document.getElementById('intro').style.display = 'block';
      document.getElementById('questionContainer').innerHTML = '';
      document.getElementById('resultCard').style.display = 'none';
      updateProgress();
    }
  </script>
</body>
</html>
